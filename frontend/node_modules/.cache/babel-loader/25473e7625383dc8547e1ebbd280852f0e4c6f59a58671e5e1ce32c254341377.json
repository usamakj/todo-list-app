{"ast":null,"code":"import _objectSpread from\"E:/Mern-Stack-Project/mern-todo-list/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useEffect,useState}from'react';import axios from'axios';import Header from'./components/Header';import TaskForm from'./components/TaskForm';import TaskItem from'./components/TaskItem';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_URL='http://localhost:5000/api/tasks';function App(){const[tasks,setTask]=useState([]);useEffect(()=>{const fetchTasks=async()=>{try{const response=await axios.get(API_URL);setTask(response.data);}catch(error){console.error('Error fetching data:',error);}};fetchTasks();},[]);const addTask=async newTask=>{try{const response=await axios.post(API_URL,newTask);setTask(prevTasks=>[...prevTasks,response.data]);}catch(error){console.error('Error adding task:',error);}};const deleteTask=async id=>{try{await axios.delete(\"\".concat(API_URL,\"/\").concat(id));setTask(prevTasks=>prevTasks.filter(task=>task._id!==id));}catch(error){console.error('Error Deleting Task:',error);}};const toggleTask=async id=>{try{const taskToToggle=tasks.find(task=>task._id===id);const updatedTask=_objectSpread(_objectSpread({},taskToToggle),{},{completed:!taskToToggle.completed});const response=await axios.put(\"\".concat(API_URL,\"/\").concat(id),updatedTask);setTask(prevTasks=>{prevTasks.map(task=>task._id===id?response.data:task);});}catch(error){console.error('error Tpggling task:',error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(TaskForm,{onAddTask:addTask}),tasks.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"task-list\",children:tasks.map(task=>/*#__PURE__*/_jsx(TaskItem,{task:task,onDelete:deleteTask,onToggle:toggleTask},task._id))}):/*#__PURE__*/_jsx(\"p\",{className:\"no-tasks-message\",children:\"NO tasks to show. Add a new one!\"})]});}export default App;","map":{"version":3,"names":["useEffect","useState","axios","Header","TaskForm","TaskItem","jsx","_jsx","jsxs","_jsxs","API_URL","App","tasks","setTask","fetchTasks","response","get","data","error","console","addTask","newTask","post","prevTasks","deleteTask","id","delete","concat","filter","task","_id","toggleTask","taskToToggle","find","updatedTask","_objectSpread","completed","put","map","className","children","onAddTask","length","onDelete","onToggle"],"sources":["E:/Mern-Stack-Project/mern-todo-list/frontend/src/App.js"],"sourcesContent":["\nimport { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport Header from './components/Header';\nimport TaskForm from './components/TaskForm';\nimport TaskItem from './components/TaskItem';\nimport './App.css';\nconst API_URL = 'http://localhost:5000/api/tasks';\n\nfunction App() {\n  const [tasks, setTask] = useState([]);\n\n  useEffect(() => {\n    const fetchTasks = async () => {\n      try {\n        const response = await axios.get(API_URL);\n        setTask(response.data);\n      } catch (error) {\n        console.error('Error fetching data:', error)\n      }\n    };\n    fetchTasks();\n  }, []\n  )\n\n  const addTask = async (newTask) => {\n    try {\n      const response = await axios.post(API_URL, newTask);\n      setTask((prevTasks) => [...prevTasks, response.data]);\n    } catch (error) {\n      console.error('Error adding task:', error);\n    }\n  };\n\n  const deleteTask = async (id) => {\n    try {\n       await axios.delete(`${API_URL}/${id}`);\n      setTask((prevTasks) => prevTasks.filter((task) => task._id !== id));\n    } catch (error) {\n      console.error('Error Deleting Task:', error);\n    }\n  };\n  const toggleTask = async (id) => {\n    try {\n      const taskToToggle = tasks.find((task) => task._id === id);\n      const updatedTask = { ...taskToToggle, completed: !taskToToggle.completed }\n    const response = await axios.put(`${API_URL}/${id}`, updatedTask);\n      setTask((prevTasks) => {\n        prevTasks.map((task) =>\n          task._id === id ? response.data : task\n        )\n      })\n    } catch (error) {\n      console.error('error Tpggling task:', error);\n    }\n\n  }\n\n\n  return (\n    <div className=\"App\">\n      < Header />\n      <TaskForm onAddTask={addTask} />\n      {tasks.length > 0 ? (\n        <div className='task-list'>\n          {tasks.map((task) => (\n            <TaskItem\n              key={task._id}\n              task={task}\n              onDelete={deleteTask}\n              onToggle={toggleTask}\n            />\n          ))}\n        </div>\n      ) : (\n        <p className='no-tasks-message'>NO tasks to show. Add a new one!</p>\n      )}\n\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}